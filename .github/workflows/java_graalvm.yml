name: GraalVM

on: workflow_dispatch

jobs:
    get:
        strategy:
            matrix:
                os: [ ubuntu-22.04, windows-2022 ]
        runs-on: ${{ matrix.os }}
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Setup GraalVM
            uses: graalvm/setup-graalvm@v1
            with:
                java-version: 20
                distribution: 'graalvm'
                github-token: ${{ secrets.GITHUB_TOKEN }}
          - name: Linux List Components
            if: ${{ matrix.os == 'ubuntu-22.04' }}
            run: gu available
          - name: Windows List Components
            if: ${{ matrix.os == 'windows-2022' }}
            run: cmd /c "gu available"
